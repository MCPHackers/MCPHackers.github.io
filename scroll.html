<!DOCTYPE html>
<html lang="en">
	<style>
		.offset1 {
			margin-right:calc(var(--local-scale) * 10px);
		}
		.res {
			--shadow-color: #153F15; --text-color: #55FF55;
		}
		.res:hover, .res:focus {
			--shadow-color: #002A00; --text-color: #00AA00;
		}
	</style>
	<head>
		<title>Versions</title>
		<link rel="icon" type="image/icon type" href="images/icon.png">
		<link rel="stylesheet" type="text/css" href="style.css"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
	</head>
	<body class="dirt darkbg">
		<div class="fgtop mc" style="margin: 0 auto">
			<h2 style="margin: calc(var(--local-scale) * 10px) auto">Versions</h2>
		</div>
		<div class="scrollcontent">
			<div class="menucontainer" id="vers">
			</div>
		</div>
		<div class="fgbottom">
		</div>
		<script>
			var versions = document.getElementById("vers")
			fetch('versions/versions.json').then((response) => response.json()).then((json) => {
				for (var version in json) {
					var clientURL = json[version]["client_url"]
					var serverURL = json[version]["server_url"]
					var mappings = json[version]["resources"]
					versions.innerHTML += `<div tabindex="-1" class="mc scrollitem">
						<div>` + version + `
							<span style="float: right">
								<a href="` + clientURL + `" class="offset1">Client</a>
								<a href="` + checkNullOrUndefined(serverURL, "") + `" ` + getServerURLStyleProperty(serverURL) + `>Server</a>
							</span>
						</div>
						<a class="res" href="` + mappings + `">Mappings</a>
						</div>
					`
				}
			}).catch((err) => {
				// versions could not be loaded.
			})

			function getServerURLStyleProperty(serverURL) {
				if (serverURL) {
					return ``
				} else {
					return `style="pointer-events:none" class="darkgray"`
				}
			}

			function checkNullOrUndefined (thing, defaultReturn) {
				if (typeof thing === "undefined") {
					return defaultReturn
				} else if (thing === null) {
					return defaultReturn
				} else {
					return thing
				}
			}
		</script>
	</body>
</html>